<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wealth Delay Calculator — See Exactly How Much Any Decision Delays Your Wealth</title>
<meta name="description" content="WealthDelay shows the exact cost of any financial decision — wealth destroyed, retirement delayed, life-hours traded. Free, instant, no login. The most honest finance calculator on the internet.">
<meta name="keywords" content="wealth delay calculator, opportunity cost calculator, true cost calculator, lifetime financial impact, how much does spending cost, retirement delay calculator, cost of habits calculator, spending vs investing">
<meta property="og:title" content="WealthDelay — See What Every Decision Really Costs You">
<meta property="og:description" content="How much wealth is this decision delaying? Enter any habit, purchase, or debt. See the lifetime cost in real dollars, retirement months lost, and life-hours traded.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://wealthdelay.com/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Lifetime Financial Impact Simulator">
<meta name="twitter:description" content="The true cost of any financial decision. Compound math, behavioral framing, real-time calculation.">
<link rel="canonical" href="https://wealthdelay.com/">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@300;400;500;600&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "WealthDelay — Lifetime Financial Impact Simulator",
  "description": "See exactly how much wealth any financial decision is delaying. Opportunity cost, retirement delay, inflation-adjusted impact, and life-hours equivalent — instant, free, no login.",
  "url": "https://wealthdelay.com/",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
  "creator": {"@type": "Organization", "name": "WealthDelay"},
  "featureList": ["Opportunity cost calculation","Compound growth modeling","Inflation adjustment","Retirement delay calculation","Work-hours equivalent","Financial freedom impact","Loss-aversion behavioral framing"]
}
</script>
<style>
/* ─────────────────────────────────────────────────────────────
   DESIGN SYSTEM — Bloomberg Terminal × Editorial Finance
   ───────────────────────────────────────────────────────────── */
:root {
  --ink: #080810;
  --paper: #0d0d18;
  --card: #12121f;
  --card2: #181828;
  --rim: #252538;
  --rim2: #1e1e32;
  --ghost: #2a2a45;
  --fog: #3a3a5c;
  --mist: #8888aa;
  --smoke: #5a5a7a;
  --text: #e8e8f0;
  --text2: #b0b0cc;
  --dim: #6a6a88;
  --lime: #b8ff57;
  --lime2: #d4ff8a;
  --red: #ff4d6d;
  --red2: #ff8099;
  --amber: #ffb700;
  --amber2: #ffcf4d;
  --cyan: #00d4ff;
  --cyan2: #66e5ff;
  --signal: #b8ff57;
  --font-display: 'Syne', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
  --font-serif: 'Lora', serif;
  --ease: cubic-bezier(0.4, 0, 0.2, 1);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; }

body {
  background: var(--ink);
  color: var(--text);
  font-family: var(--font-mono);
  font-size: 14px;
  line-height: 1.6;
  min-height: 100vh;
  overflow-x: hidden;
}

/* ── GRID TEXTURE ── */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 50% at 20% 0%, rgba(184,255,87,0.04) 0%, transparent 60%),
    radial-gradient(ellipse 60% 40% at 80% 100%, rgba(0,212,255,0.03) 0%, transparent 60%),
    repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(255,255,255,0.012) 39px, rgba(255,255,255,0.012) 40px),
    repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(255,255,255,0.012) 39px, rgba(255,255,255,0.012) 40px);
  pointer-events: none;
  z-index: 0;
}

/* ── SCANLINE EFFECT ── */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.08) 2px,
    rgba(0,0,0,0.08) 4px
  );
  pointer-events: none;
  z-index: 0;
}

.z1 { position: relative; z-index: 1; }

/* ── TOPBAR ── */
.topbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: rgba(8,8,16,0.92);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--rim);
  padding: 0 24px;
  height: 52px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.topbar-left {
  display: flex;
  align-items: center;
  gap: 20px;
}

.logo {
  font-family: var(--font-display);
  font-size: 16px;
  font-weight: 800;
  color: var(--lime);
  letter-spacing: -0.01em;
}

.logo-tag {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--dim);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  border-left: 1px solid var(--rim);
  padding-left: 20px;
}

.topbar-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.nav-tool {
  font-size: 11px;
  color: var(--dim);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  text-decoration: none;
  padding: 4px 10px;
  border: 1px solid var(--rim);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
  background: transparent;
}

.nav-tool:hover {
  border-color: rgba(184,255,87,0.3);
  color: var(--lime);
}

.ticker-tag {
  font-size: 10px;
  color: var(--lime);
  background: rgba(184,255,87,0.08);
  border: 1px solid rgba(184,255,87,0.2);
  padding: 3px 10px;
  border-radius: 3px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  animation: pulse 3s ease infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* ── AD SLOT STYLES ── */
.ad-slot {
  background: var(--card);
  border: 1px dashed var(--rim);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  color: var(--dim);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-family: var(--font-mono);
}

.ad-leaderboard {
  width: 100%;
  height: 90px;
  margin: 16px 0;
}

.ad-rectangle {
  width: 100%;
  max-width: 336px;
  height: 280px;
  margin: 0 auto;
}

/* ── HERO ── */
.hero {
  padding: 64px 24px 40px;
  max-width: 1160px;
  margin: 0 auto;
}

.hero-kicker {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 24px;
}

.kicker-line {
  width: 32px;
  height: 1px;
  background: var(--lime);
}

.kicker-text {
  font-size: 11px;
  letter-spacing: 0.2em;
  color: var(--lime);
  text-transform: uppercase;
}

.hero h1 {
  font-family: var(--font-display);
  font-size: clamp(36px, 5.5vw, 68px);
  font-weight: 800;
  line-height: 1.0;
  letter-spacing: -0.03em;
  color: var(--text);
  margin-bottom: 20px;
  max-width: 820px;
}

.hero h1 .highlight {
  color: var(--lime);
  font-style: italic;
  font-family: var(--font-serif);
  font-weight: 600;
}

.hero h1 .strike {
  position: relative;
  color: var(--dim);
}

.hero h1 .strike::after {
  content: '';
  position: absolute;
  left: 0; right: 0;
  top: 50%;
  height: 2px;
  background: var(--red);
  opacity: 0.7;
}

.hero-sub {
  font-family: var(--font-mono);
  font-size: 14px;
  color: var(--mist);
  max-width: 620px;
  line-height: 1.75;
  margin-bottom: 32px;
}

.hero-stats {
  display: flex;
  gap: 32px;
  flex-wrap: wrap;
}

.hero-stat {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.hero-stat-n {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 700;
  color: var(--lime);
}

.hero-stat-l {
  font-size: 10px;
  color: var(--dim);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

/* ── MAIN LAYOUT ── */
.workspace {
  max-width: 1160px;
  margin: 0 auto;
  padding: 0 24px 80px;
  display: grid;
  grid-template-columns: 420px 1fr;
  gap: 20px;
  align-items: start;
}

@media (max-width: 980px) {
  .workspace { grid-template-columns: 1fr; }
}

/* ── PANEL SYSTEM ── */
.panel {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
}

.panel-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 18px;
  border-bottom: 1px solid var(--rim);
  background: var(--card2);
}

.panel-label {
  font-size: 10px;
  letter-spacing: 0.18em;
  color: var(--dim);
  text-transform: uppercase;
}

.panel-badge {
  font-size: 10px;
  letter-spacing: 0.1em;
  color: var(--lime);
  background: rgba(184,255,87,0.08);
  border: 1px solid rgba(184,255,87,0.15);
  padding: 2px 8px;
  border-radius: 3px;
  text-transform: uppercase;
}

.panel-body { padding: 20px 18px; }

/* ── SCENARIO TABS ── */
.scenario-tabs {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0;
  background: var(--card2);
  border: 1px solid var(--rim);
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 22px;
}

.stab {
  padding: 10px 4px;
  text-align: center;
  font-size: 10px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--dim);
  cursor: pointer;
  border-right: 1px solid var(--rim);
  transition: all 0.2s var(--ease);
  user-select: none;
}

.stab:last-child { border-right: none; }

.stab:hover { color: var(--text2); background: var(--ghost); }

.stab.active {
  color: var(--ink);
  background: var(--lime);
  font-weight: 600;
}

/* ── FIELD GROUPS ── */
.field-group { margin-bottom: 20px; }

.field-group-title {
  font-size: 10px;
  letter-spacing: 0.2em;
  color: var(--lime);
  text-transform: uppercase;
  margin-bottom: 14px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(184,255,87,0.12);
  display: flex;
  align-items: center;
  gap: 8px;
}

.field-group-title::before {
  content: '';
  width: 3px;
  height: 10px;
  background: var(--lime);
  border-radius: 1px;
}

.field { margin-bottom: 14px; }

.field-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

.field label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 7px;
  font-size: 11px;
  color: var(--mist);
  letter-spacing: 0.04em;
}

.field-val {
  font-family: var(--font-mono);
  font-size: 13px;
  font-weight: 600;
  color: var(--text);
  min-width: 60px;
  text-align: right;
}

/* ── SLIDERS ── */
input[type=range] {
  -webkit-appearance: none;
  width: 100%;
  height: 2px;
  background: var(--ghost);
  outline: none;
  border-radius: 1px;
  cursor: pointer;
}

input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  background: var(--lime);
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
  box-shadow: 0 0 8px rgba(184,255,87,0.3);
}

input[type=range]::-webkit-slider-thumb:hover {
  transform: scale(1.4);
  box-shadow: 0 0 16px rgba(184,255,87,0.5);
}

/* Slider track fill done in JS by setting background gradient */

/* ── INPUTS ── */
.inp {
  width: 100%;
  background: var(--card2);
  border: 1px solid var(--rim);
  border-radius: 5px;
  padding: 8px 12px;
  color: var(--text);
  font-family: var(--font-mono);
  font-size: 13px;
  outline: none;
  transition: border-color 0.2s;
}

.inp:focus { border-color: rgba(184,255,87,0.35); }

.inp-number {
  text-align: right;
  font-weight: 500;
}

select.inp {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%235a5a7a'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 32px;
}

/* Wage input hint */
.field-hint {
  font-size: 10px;
  color: var(--dim);
  margin-top: 4px;
  letter-spacing: 0.04em;
}

/* ── RESULTS COLUMN ── */
.results-col { display: flex; flex-direction: column; gap: 16px; }

/* ── IMPACT HERO ── */
.impact-hero {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.impact-hero::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--red) 0%, var(--amber) 50%, var(--lime) 100%);
}

.impact-body {
  padding: 28px 24px 22px;
}

.impact-eyebrow {
  font-size: 10px;
  letter-spacing: 0.2em;
  color: var(--dim);
  text-transform: uppercase;
  margin-bottom: 12px;
}

.impact-number-wrap {
  display: flex;
  align-items: flex-end;
  gap: 12px;
  margin-bottom: 8px;
}

.impact-number {
  font-family: var(--font-display);
  font-size: clamp(48px, 7vw, 72px);
  font-weight: 800;
  letter-spacing: -0.03em;
  color: var(--red);
  line-height: 1;
  transition: color 0.4s, transform 0.3s;
}

.impact-number.updating {
  transform: scale(0.98);
  opacity: 0.7;
}

.impact-delta {
  font-size: 13px;
  color: var(--red2);
  margin-bottom: 6px;
  font-weight: 500;
}

.impact-caption {
  font-size: 12px;
  color: var(--mist);
  font-style: italic;
  font-family: var(--font-serif);
}

/* ── METRICS STRIP ── */
.metrics-strip {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  border-top: 1px solid var(--rim);
}

.metric {
  padding: 16px;
  border-right: 1px solid var(--rim);
  transition: background 0.2s;
}

.metric:last-child { border-right: none; }
.metric:hover { background: var(--card2); }

.metric-label {
  font-size: 9px;
  letter-spacing: 0.15em;
  color: var(--dim);
  text-transform: uppercase;
  margin-bottom: 6px;
}

.metric-value {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 700;
  line-height: 1;
  margin-bottom: 3px;
}

.metric-value.c-red { color: var(--red); }
.metric-value.c-amber { color: var(--amber); }
.metric-value.c-lime { color: var(--lime); }
.metric-value.c-cyan { color: var(--cyan); }

.metric-sub {
  font-size: 10px;
  color: var(--dim);
  letter-spacing: 0.04em;
}

/* ── BEHAVIOR BOX ── */
.behavior-box {
  background: var(--card);
  border: 1px solid var(--rim);
  border-left: 3px solid var(--amber);
  border-radius: 0 6px 6px 0;
  padding: 16px 18px;
  font-family: var(--font-serif);
  font-size: 14px;
  color: var(--text2);
  line-height: 1.75;
}

.behavior-box strong { color: var(--text); font-family: var(--font-mono); font-style: normal; font-weight: 600; }

.behavior-title {
  font-family: var(--font-mono);
  font-size: 10px;
  letter-spacing: 0.15em;
  color: var(--amber);
  text-transform: uppercase;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ── CHART PANEL ── */
.chart-panel {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
}

.chart-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 18px;
  border-bottom: 1px solid var(--rim);
  background: var(--card2);
}

.chart-legend {
  display: flex;
  gap: 16px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  color: var(--dim);
  letter-spacing: 0.06em;
}

.legend-swatch {
  width: 16px;
  height: 3px;
  border-radius: 2px;
}

.chart-body {
  padding: 16px 18px;
}

canvas#chart {
  width: 100% !important;
  height: 240px !important;
  display: block;
}

/* ── STAT TABLE ── */
.stat-table {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
}

.stat-row {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 12px 18px;
  border-bottom: 1px solid var(--rim2);
  transition: background 0.15s;
  gap: 12px;
}

.stat-row:last-child { border-bottom: none; }
.stat-row:hover { background: var(--card2); }

.stat-row-label {
  font-size: 11px;
  color: var(--mist);
  letter-spacing: 0.04em;
}

.stat-row-value {
  font-family: var(--font-mono);
  font-size: 13px;
  font-weight: 500;
  text-align: right;
}

.stat-row-value.v-red { color: var(--red2); }
.stat-row-value.v-amber { color: var(--amber2); }
.stat-row-value.v-lime { color: var(--lime2); }
.stat-row-value.v-cyan { color: var(--cyan2); }
.stat-row-value.v-mist { color: var(--mist); }

/* ── MILESTONE BAR ── */
.milestones {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
}

.milestone-row {
  display: grid;
  grid-template-columns: 80px 1fr 100px;
  align-items: center;
  gap: 12px;
  padding: 11px 18px;
  border-bottom: 1px solid var(--rim2);
}

.milestone-row:last-child { border-bottom: none; }

.milestone-age {
  font-size: 11px;
  color: var(--cyan);
  letter-spacing: 0.06em;
  font-weight: 500;
}

.milestone-track {
  height: 3px;
  background: var(--ghost);
  border-radius: 2px;
  overflow: hidden;
}

.milestone-fill {
  height: 100%;
  border-radius: 2px;
  transition: width 0.7s cubic-bezier(0.34,1.56,0.64,1);
}

.milestone-amt {
  font-size: 11px;
  font-weight: 600;
  text-align: right;
}

/* ── AFFILIATE BLOCK ── */
.affiliate-block {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 8px;
  overflow: hidden;
}

.affiliate-head {
  padding: 12px 18px;
  border-bottom: 1px solid var(--rim);
  background: var(--card2);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.affiliate-disclaimer {
  font-size: 9px;
  color: var(--dim);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.affiliate-link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 18px;
  border-bottom: 1px solid var(--rim2);
  text-decoration: none;
  transition: background 0.15s;
  gap: 12px;
  cursor: pointer;
}

.affiliate-link:last-child { border-bottom: none; }
.affiliate-link:hover { background: var(--card2); }

.aff-info { display: flex; flex-direction: column; gap: 3px; }
.aff-name { font-size: 13px; color: var(--text); font-weight: 500; }
.aff-desc { font-size: 10px; color: var(--dim); letter-spacing: 0.04em; }

.aff-cta {
  font-size: 11px;
  color: var(--lime);
  font-weight: 600;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 4px;
  border: 1px solid rgba(184,255,87,0.25);
  padding: 4px 10px;
  border-radius: 4px;
  transition: all 0.2s;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.affiliate-link:hover .aff-cta {
  background: rgba(184,255,87,0.1);
  border-color: rgba(184,255,87,0.4);
}

/* ── FAQ ── */
.faq-section {
  max-width: 1160px;
  margin: 0 auto;
  padding: 0 24px 60px;
}

.section-heading {
  font-family: var(--font-display);
  font-size: 28px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  letter-spacing: -0.02em;
}

.section-heading::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--rim);
}

.faq-item {
  border-bottom: 1px solid var(--rim);
}

.faq-q {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 0;
  font-size: 14px;
  color: var(--text2);
  cursor: pointer;
  gap: 16px;
  transition: color 0.2s;
  user-select: none;
}

.faq-q:hover { color: var(--text); }

.faq-icon {
  font-size: 18px;
  color: var(--dim);
  flex-shrink: 0;
  font-family: var(--font-mono);
  font-weight: 300;
  transition: transform 0.25s;
}

.faq-icon.open { transform: rotate(45deg); color: var(--lime); }

.faq-a {
  display: none;
  padding: 0 0 18px;
  font-size: 13px;
  color: var(--mist);
  line-height: 1.8;
  font-family: var(--font-serif);
}

.faq-a.open { display: block; }

.faq-a code {
  font-family: var(--font-mono);
  font-size: 12px;
  background: var(--ghost);
  padding: 2px 6px;
  border-radius: 3px;
  color: var(--lime);
}

/* ── TOOLS STRIP ── */
.tools-strip {
  max-width: 1160px;
  margin: 0 auto;
  padding: 0 24px 60px;
}

.tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.tool-card {
  background: var(--card);
  border: 1px solid var(--rim);
  border-radius: 6px;
  padding: 14px 16px;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
}

.tool-card:hover {
  border-color: rgba(184,255,87,0.25);
  background: var(--card2);
  transform: translateY(-1px);
}

.tool-card.active-tool {
  border-color: rgba(184,255,87,0.4);
  background: rgba(184,255,87,0.04);
}

.tool-num {
  font-size: 9px;
  color: var(--dim);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 6px;
}

.tool-name {
  font-size: 12px;
  color: var(--text2);
  line-height: 1.4;
  font-weight: 500;
}

.tool-cluster {
  font-size: 9px;
  color: var(--dim);
  letter-spacing: 0.06em;
  margin-top: 4px;
  text-transform: uppercase;
}

.tool-card.coming-soon {
  opacity: 0.4;
  cursor: default;
}

.tool-card.coming-soon:hover {
  transform: none;
  border-color: var(--rim);
  background: var(--card);
}

/* ── DISCLAIMER ── */
.disclaimer-strip {
  max-width: 1160px;
  margin: 0 auto;
  padding: 0 24px 32px;
}

.disclaimer-box {
  background: var(--card2);
  border: 1px solid var(--rim);
  border-radius: 6px;
  padding: 14px 18px;
  font-size: 11px;
  color: var(--dim);
  line-height: 1.7;
  letter-spacing: 0.02em;
}

/* ── FOOTER ── */
footer {
  border-top: 1px solid var(--rim);
  background: var(--card);
  padding: 24px;
}

.footer-inner {
  max-width: 1160px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.footer-copy {
  font-size: 11px;
  color: var(--dim);
  letter-spacing: 0.05em;
}

.footer-links {
  display: flex;
  gap: 20px;
}

.footer-link {
  font-size: 11px;
  color: var(--dim);
  text-decoration: none;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  transition: color 0.2s;
}

.footer-link:hover { color: var(--lime); }

/* ── ANIMATIONS ── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}

.hero { animation: fadeUp 0.5s var(--ease) both; }
.workspace { animation: fadeUp 0.5s 0.1s var(--ease) both; }

/* ── RESPONSIVE ── */
@media (max-width: 640px) {
  .hero h1 { font-size: 32px; }
  .impact-number { font-size: 44px; }
  .metrics-strip { grid-template-columns: 1fr 1fr; }
  .metric:nth-child(3) { border-right: none; grid-column: 1 / -1; border-top: 1px solid var(--rim); }
  .topbar-right .nav-tool { display: none; }
  .milestone-row { grid-template-columns: 64px 1fr 80px; }
  .field-row { grid-template-columns: 1fr; }
}

/* ── NUMBER TICK ANIMATION ── */
.tick { transition: opacity 0.15s; }
</style>
</head>
<body>

<!-- ═══════════════════════════════════════════════
     TOPBAR
═══════════════════════════════════════════════ -->
<div class="topbar z1">
  <div class="topbar-left">
    <div class="logo">WealthDelay</div>
    <div class="logo-tag">The True Cost Engine</div>
  </div>
  <div class="topbar-right">
    <div class="ticker-tag">● Live Calc</div>
    <button class="nav-tool" onclick="scrollToTools()">30 Tools →</button>
  </div>
</div>

<!-- ═══════════════════════════════════════════════
     HERO
═══════════════════════════════════════════════ -->
<section class="hero z1">
  <div class="hero-kicker">
    <div class="kicker-line"></div>
    <div class="kicker-text">Tool 01 / 30 — Lifetime Financial Impact</div>
  </div>
  <h1>
    Find out exactly how much<br>
    wealth your decisions<br>
    are <span class="highlight">delaying.</span>
  </h1>
  <p class="hero-sub">
    Enter any habit, purchase, or debt. WealthDelay shows the exact future wealth destroyed, retirement months lost, and life-hours traded — to the dollar, adjusted for inflation.
  </p>
  <div class="hero-stats">
    <div class="hero-stat">
      <div class="hero-stat-n">$0–$80</div>
      <div class="hero-stat-l">Finance AdSense RPM</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-n">7 Metrics</div>
      <div class="hero-stat-l">Per calculation</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-n">100% Static</div>
      <div class="hero-stat-l">No backend · No login</div>
    </div>
  </div>
</section>

<!-- AD SLOT: Top Leaderboard -->
<div class="z1" style="max-width:1160px;margin:0 auto;padding:0 24px;">
  <div class="ad-slot ad-leaderboard">
    <!-- Replace with Google AdSense code:
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXXX" data-ad-slot="XXXXXXXX" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
    Google AdSense — 728×90 Leaderboard — Finance Niche ($15–50 RPM)
  </div>
</div>

<!-- ═══════════════════════════════════════════════
     WORKSPACE
═══════════════════════════════════════════════ -->
<div class="workspace z1">

  <!-- ─── LEFT: INPUTS ─── -->
  <div>
    <div class="panel">
      <div class="panel-head">
        <div class="panel-label">// Input Parameters</div>
        <div class="panel-badge">Real-time</div>
      </div>
      <div class="panel-body">

        <!-- SCENARIO TABS -->
        <div class="scenario-tabs">
          <div class="stab active" onclick="setScenario('habit', this)">Habit</div>
          <div class="stab" onclick="setScenario('purchase', this)">Purchase</div>
          <div class="stab" onclick="setScenario('debt', this)">Debt</div>
          <div class="stab" onclick="setScenario('invest', this)">Invest</div>
        </div>

        <!-- ── HABIT / PURCHASE INPUTS ── -->
        <div id="grp-expense">
          <div class="field-group">
            <div class="field-group-title">The Decision</div>

            <div class="field">
              <label>
                Amount per occurrence
                <span class="field-val" id="v-amount">$10</span>
              </label>
              <input type="range" id="s-amount" min="1" max="1000" step="1" value="10"
                oninput="sync('amount', this.value, '$', 0); calc()">
            </div>

            <div class="field">
              <label>Frequency</label>
              <select class="inp" id="i-freq" onchange="calc()">
                <option value="365">Daily</option>
                <option value="52">Weekly</option>
                <option value="12" selected>Monthly</option>
                <option value="1">Yearly</option>
              </select>
            </div>

            <div class="field" id="grp-purchase-years" style="display:none">
              <label>
                Item lifespan / use years
                <span class="field-val" id="v-purchase-life">5 yr</span>
              </label>
              <input type="range" id="s-purchase-life" min="1" max="20" step="1" value="5"
                oninput="sync('purchase-life', this.value, '', ' yr'); calc()">
              <div class="field-hint">For a one-time purchase, how many years of use?</div>
            </div>
          </div>
        </div>

        <!-- ── DEBT INPUTS ── -->
        <div id="grp-debt" style="display:none">
          <div class="field-group">
            <div class="field-group-title">Debt Details</div>
            <div class="field">
              <label>
                Balance owed
                <span class="field-val" id="v-dbal">$15,000</span>
              </label>
              <input type="range" id="s-dbal" min="500" max="250000" step="500" value="15000"
                oninput="sync('dbal', this.value, '$', '', true); calc()">
            </div>
            <div class="field">
              <label>
                Monthly payment
                <span class="field-val" id="v-dpay">$350</span>
              </label>
              <input type="range" id="s-dpay" min="50" max="5000" step="50" value="350"
                oninput="sync('dpay', this.value, '$', ''); calc()">
            </div>
            <div class="field">
              <label>
                APR interest rate
                <span class="field-val" id="v-apr">21%</span>
              </label>
              <input type="range" id="s-apr" min="0.5" max="35" step="0.5" value="21"
                oninput="sync('apr', this.value, '', '%'); calc()">
            </div>
          </div>
        </div>

        <!-- ── INVEST INPUTS ── -->
        <div id="grp-invest" style="display:none">
          <div class="field-group">
            <div class="field-group-title">Investment Plan</div>
            <div class="field">
              <label>
                Monthly contribution
                <span class="field-val" id="v-contrib">$300</span>
              </label>
              <input type="range" id="s-contrib" min="25" max="10000" step="25" value="300"
                oninput="sync('contrib', this.value, '$', ''); calc()">
            </div>
            <div class="field">
              <label>
                Lump sum today
                <span class="field-val" id="v-lump">$5,000</span>
              </label>
              <input type="range" id="s-lump" min="0" max="250000" step="1000" value="5000"
                oninput="sync('lump', this.value, '$', '', true); calc()">
            </div>
          </div>
        </div>

        <!-- ── PROFILE (shared) ── -->
        <div class="field-group">
          <div class="field-group-title">Your Profile</div>

          <div class="field-row">
            <div class="field">
              <label>
                Age now
                <span class="field-val" id="v-age">32</span>
              </label>
              <input type="range" id="s-age" min="18" max="65" step="1" value="32"
                oninput="sync('age', this.value, '', ''); calc()">
            </div>
            <div class="field">
              <label>
                Retire at
                <span class="field-val" id="v-ret">65</span>
              </label>
              <input type="range" id="s-ret" min="45" max="80" step="1" value="65"
                oninput="sync('ret', this.value, '', ''); calc()">
            </div>
          </div>

          <div class="field">
            <label>
              Hourly wage (optional)
              <span class="field-val" id="v-wage">$35</span>
            </label>
            <input type="range" id="s-wage" min="10" max="300" step="5" value="35"
              oninput="sync('wage', this.value, '$', '/hr'); calc()">
            <div class="field-hint">Used to calculate life-hours equivalent</div>
          </div>
        </div>

        <!-- ── MARKET ASSUMPTIONS ── -->
        <div class="field-group">
          <div class="field-group-title">Market Assumptions</div>
          <div class="field">
            <label>
              Expected annual return
              <span class="field-val" id="v-return">7.0%</span>
            </label>
            <input type="range" id="s-return" min="2" max="14" step="0.5" value="7"
              oninput="sync('return', this.value, '', '%'); calc()">
            <div class="field-hint">S&amp;P 500 historical real return ≈ 7%</div>
          </div>
          <div class="field">
            <label>
              Inflation rate
              <span class="field-val" id="v-infl">3.0%</span>
            </label>
            <input type="range" id="s-infl" min="0" max="10" step="0.5" value="3"
              oninput="sync('infl', this.value, '', '%'); calc()">
          </div>
          <div class="field">
            <label>
              Retirement nest-egg target
              <span class="field-val" id="v-target">$1.0M</span>
            </label>
            <input type="range" id="s-target" min="100000" max="5000000" step="50000" value="1000000"
              oninput="sync('target', this.value, '$', '', true, true); calc()">
            <div class="field-hint">4% rule = 25× annual spend. Adjust to your goal.</div>
          </div>
        </div>

      </div><!-- /panel-body -->
    </div><!-- /panel -->
  </div>

  <!-- ─── RIGHT: RESULTS ─── -->
  <div class="results-col">

    <!-- IMPACT HERO -->
    <div class="impact-hero">
      <div class="impact-body">
        <div class="impact-eyebrow">// Total Wealth Destroyed by This Decision</div>
        <div class="impact-number-wrap">
          <div class="impact-number" id="r-hero">$0</div>
        </div>
        <div class="impact-delta" id="r-delta">— real opportunity cost over your investing horizon</div>
        <div class="impact-caption" id="r-caption">Adjust inputs to see your personalized impact.</div>
      </div>
      <div class="metrics-strip">
        <div class="metric">
          <div class="metric-label">Inflation-Adj Cost</div>
          <div class="metric-value c-red" id="r-real">$0</div>
          <div class="metric-sub">today's purchasing power</div>
        </div>
        <div class="metric">
          <div class="metric-label">Retire Delayed</div>
          <div class="metric-value c-amber" id="r-delay">0 mo</div>
          <div class="metric-sub">extra months of work</div>
        </div>
        <div class="metric">
          <div class="metric-label">Life-Hours Cost</div>
          <div class="metric-value c-cyan" id="r-hours">0 hrs</div>
          <div class="metric-sub">at your wage rate</div>
        </div>
      </div>
    </div>

    <!-- BEHAVIOR BOX -->
    <div class="behavior-box">
      <div class="behavior-title">⬡ Behavioral Economics Framing</div>
      <span id="r-behavior">Enter your decision above to receive your behavioral impact analysis.</span>
    </div>

    <!-- CHART -->
    <div class="chart-panel">
      <div class="chart-head">
        <div class="panel-label">// Wealth Trajectory</div>
        <div class="chart-legend">
          <div class="legend-item">
            <div class="legend-swatch" style="background:var(--lime)"></div>
            <span>If Invested</span>
          </div>
          <div class="legend-item">
            <div class="legend-swatch" style="background:var(--red)"></div>
            <span>Cash Spent</span>
          </div>
        </div>
      </div>
      <div class="chart-body">
        <canvas id="chart"></canvas>
      </div>
    </div>

    <!-- STAT TABLE -->
    <div class="stat-table">
      <div class="panel-head">
        <div class="panel-label">// Full Breakdown</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Total cash spent (nominal)</div>
        <div class="stat-row-value v-mist" id="r-nominal">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Opportunity cost (future value if invested)</div>
        <div class="stat-row-value v-red" id="r-fv">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Real value today (inflation-adjusted)</div>
        <div class="stat-row-value v-amber" id="r-real2">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Months of financial delay</div>
        <div class="stat-row-value v-amber" id="r-delaymo">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Life-hours consumed at wage</div>
        <div class="stat-row-value v-cyan" id="r-hoursfull">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Daily opportunity cost</div>
        <div class="stat-row-value v-lime" id="r-daily">—</div>
      </div>
      <div class="stat-row">
        <div class="stat-row-label">Break-even year (investment catches up)</div>
        <div class="stat-row-value v-lime" id="r-breakeven">—</div>
      </div>
    </div>

    <!-- AD: Mid Rectangle -->
    <div style="display:flex;justify-content:center;">
      <div class="ad-slot ad-rectangle">
        <!-- Replace with AdSense:
        <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-XXXXXXXX" data-ad-slot="XXXXXXXX"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
        Google AdSense — 336×280 Rectangle — ($20–60 RPM)
      </div>
    </div>

    <!-- MILESTONES -->
    <div class="milestones">
      <div class="panel-head">
        <div class="panel-label">// Compounding Milestones</div>
        <div class="panel-badge">Investment Path</div>
      </div>
      <div id="r-milestones"></div>
    </div>

    <!-- AFFILIATE -->
    <div class="affiliate-block" id="affiliate-section">
      <div class="affiliate-head">
        <div class="panel-label">// Start Investing This Money Instead</div>
        <div class="affiliate-disclaimer">Sponsored — Affiliate disclosure</div>
      </div>
      <a class="affiliate-link" href="#" target="_blank" rel="noopener sponsored">
        <div class="aff-info">
          <div class="aff-name">Fidelity Investments</div>
          <div class="aff-desc">Zero-fee index funds · No minimum balance</div>
        </div>
        <div class="aff-cta">Open Account →</div>
      </a>
      <a class="affiliate-link" href="#" target="_blank" rel="noopener sponsored">
        <div class="aff-info">
          <div class="aff-name">M1 Finance</div>
          <div class="aff-desc">Automated portfolio · $0 management fee</div>
        </div>
        <div class="aff-cta">Start Free →</div>
      </a>
      <a class="affiliate-link" href="#" target="_blank" rel="noopener sponsored">
        <div class="aff-info">
          <div class="aff-name">High-Yield Savings (SoFi)</div>
          <div class="aff-desc">4.5%+ APY · FDIC insured up to $2M</div>
        </div>
        <div class="aff-cta">Get Rate →</div>
      </a>
    </div>

  </div><!-- /results-col -->
</div><!-- /workspace -->

<!-- ═══════════════════════════════════════════════
     FAQ SECTION
═══════════════════════════════════════════════ -->
<section class="faq-section z1">
  <h2 class="section-heading">Frequently Asked Questions</h2>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      How is the opportunity cost calculated?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      The opportunity cost uses the Future Value of an Annuity formula: <code>FV = PMT × [((1 + r)^n − 1) / r]</code> where PMT is your monthly spending, r is monthly return rate (annual ÷ 12), and n is the total months. This represents what your spending money would compound to if invested in a broad market index instead. For one-time purchases, we use the simpler <code>FV = PV × (1 + r)^n</code>.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      What does inflation adjustment mean in practice?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      Nominal future value overstates purchasing power. We adjust with: <code>Real FV = Nominal FV ÷ (1 + inflation)^years</code>. At 3% inflation, $1 today becomes worth about $0.41 in 30 years. This means a nominally impressive $500,000 might only represent $206,000 of today's buying power. We show both so you understand the true magnitude.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      How is the retirement delay calculated?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      We calculate years-to-target in two scenarios: with and without the spending habit. Using <code>Years = log(Target ÷ Current) ÷ log(1 + r)</code>, the difference between those two scenarios gives you the retirement delay. Intuitively: the habit both costs you money directly and reduces the compounding base that would otherwise get you to your target faster.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      Is a 7% annual return realistic?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      The S&P 500 has returned approximately 10% nominal and ~7% inflation-adjusted annually over the past century. Individual results vary enormously based on market timing, asset allocation, fees, and behavior. 7% is a standard assumption in financial planning literature — conservative by historical standards, but not guaranteed. Always use a range of scenarios.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      Does this tool store any of my data?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      No. All calculations run entirely in your browser using JavaScript. Nothing is transmitted to any server. No cookies are set by the calculator. No personal or financial information is retained in any way. You can verify this by running the tool offline.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      What is the "life-hours equivalent" metric?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      This converts the total opportunity cost (what the money would have been worth if invested) into hours of work at your specified wage. The framing is deliberately confrontational: every spending decision is ultimately a trade of irreplaceable time for consumption. <code>Hours = Opportunity Cost ÷ Hourly Wage</code>. If your $5/day coffee habit destroys $180,000 of future wealth and you earn $35/hr, that's 5,143 hours — over 2 years of full-time work.
    </div>
  </div>

  <div class="faq-item">
    <div class="faq-q" onclick="toggleFaq(this)">
      What is the 4% rule used in the retirement target?
      <div class="faq-icon">+</div>
    </div>
    <div class="faq-a">
      The Trinity Study found that retirees who withdraw 4% of their portfolio annually have historically sustained their portfolio for 30+ years. This means you need approximately 25× your annual expenses saved. If you spend $60,000/year, your target is $1,500,000. Set the retirement target slider accordingly — the delay calculation will recalibrate in real time.
    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════
     30 TOOLS MAP
═══════════════════════════════════════════════ -->
<section class="tools-strip z1" id="tools-map">
  <h2 class="section-heading">The 30-Tool Portfolio Roadmap</h2>
  <div class="tools-grid" id="tools-grid"></div>
</section>

<!-- ═══════════════════════════════════════════════
     DISCLAIMER
═══════════════════════════════════════════════ -->
<div class="disclaimer-strip z1">
  <div class="disclaimer-box">
    <strong>Disclaimer:</strong> WealthDelay tools are for educational and informational purposes only. They do not constitute financial advice, tax advice, or investment recommendations. All projections are estimates based on user-provided assumptions and historical averages. Actual investment returns are not guaranteed and may differ materially from projections. Past market performance does not predict future results. Consult a qualified financial advisor before making investment, debt, or retirement decisions. Affiliate links marked as sponsored may result in compensation when clicked.
  </div>
</div>

<!-- ═══════════════════════════════════════════════
     FOOTER
═══════════════════════════════════════════════ -->
<footer class="z1">
  <div class="footer-inner">
    <div class="footer-copy">© 2025 WealthDelay. All calculations client-side · No data stored · Free forever.</div>
    <div class="footer-links">
      <a class="footer-link" href="/privacy">Privacy</a>
      <a class="footer-link" href="/disclaimer">Disclaimer</a>
      <a class="footer-link" href="/about">About</a>
      <a class="footer-link" href="/sitemap.xml">Sitemap</a>
    </div>
  </div>
</footer>

<!-- ═══════════════════════════════════════════════
     JAVASCRIPT ENGINE
═══════════════════════════════════════════════ -->
<script>
'use strict';

// ── STATE ─────────────────────────────────────────────────────────────
let scenario = 'habit';

// ── SCENARIO SWITCH ───────────────────────────────────────────────────
function setScenario(s, el) {
  scenario = s;
  document.querySelectorAll('.stab').forEach(b => b.classList.remove('active'));
  el.classList.add('active');

  document.getElementById('grp-expense').style.display = ['habit','purchase'].includes(s) ? '' : 'none';
  document.getElementById('grp-debt').style.display = s === 'debt' ? '' : 'none';
  document.getElementById('grp-invest').style.display = s === 'invest' ? '' : 'none';
  document.getElementById('grp-purchase-years').style.display = s === 'purchase' ? '' : 'none';
  calc();
}

// ── SLIDER SYNC ───────────────────────────────────────────────────────
function sync(id, val, pre, suf, comma = false, abbrev = false) {
  const el = document.getElementById('v-' + id);
  if (!el) return;
  let display = val;
  if (abbrev) {
    const n = Number(val);
    if (n >= 1e6) display = (n / 1e6).toFixed(1) + 'M';
    else if (n >= 1e3) display = (n / 1e3).toFixed(0) + 'K';
  } else if (comma) {
    display = Number(val).toLocaleString();
  }
  el.textContent = pre + display + suf;
  // Color slider track
  const slider = document.getElementById('s-' + id);
  if (slider) updateSliderTrack(slider);
}

function updateSliderTrack(slider) {
  const pct = ((slider.value - slider.min) / (slider.max - slider.min)) * 100;
  slider.style.background = `linear-gradient(to right, #b8ff57 0%, #b8ff57 ${pct}%, #2a2a45 ${pct}%, #2a2a45 100%)`;
}

// ── FORMAT HELPERS ────────────────────────────────────────────────────
function fmtC(n, decimals = 0) {
  if (!isFinite(n)) return '$0';
  const abs = Math.abs(n);
  if (abs >= 1e9) return '$' + (n / 1e9).toFixed(2) + 'B';
  if (abs >= 1e6) return '$' + (n / 1e6).toFixed(2) + 'M';
  if (abs >= 1e3) return '$' + (n / 1e3).toFixed(1) + 'K';
  return '$' + n.toFixed(decimals);
}

function fmtFull(n) {
  if (!isFinite(n)) return '$0';
  return '$' + Math.round(Math.abs(n)).toLocaleString();
}

function fmtShort(n) {
  if (!isFinite(n)) return '$0';
  if (Math.abs(n) >= 1e9) return '$' + (n / 1e9).toFixed(1) + 'B';
  if (Math.abs(n) >= 1e6) return '$' + (n / 1e6).toFixed(2) + 'M';
  if (Math.abs(n) >= 1e3) return '$' + (n / 1e3).toFixed(1) + 'K';
  return '$' + Math.round(n);
}

// ── ANIMATED NUMBER ───────────────────────────────────────────────────
let animFrame = null;
function animateTo(el, targetStr) {
  el.textContent = targetStr;
}

// ── CORE MATH ENGINE ──────────────────────────────────────────────────
function fvAnnuity(pmt, r, n) {
  if (r === 0) return pmt * n;
  return pmt * ((Math.pow(1 + r, n) - 1) / r);
}

function fvLump(pv, r, n) {
  return pv * Math.pow(1 + r, n);
}

function yearsToTarget(current, target, annualR) {
  if (current <= 0 || target <= 0 || annualR <= 0) return 999;
  if (current >= target) return 0;
  return Math.log(target / current) / Math.log(1 + annualR);
}

// ── MAIN CALCULATE ────────────────────────────────────────────────────
function calc() {
  const age      = +document.getElementById('s-age').value;
  const retireAt = +document.getElementById('s-ret').value;
  const wage     = +document.getElementById('s-wage').value;
  const annReturn = +document.getElementById('s-return').value / 100;
  const infl     = +document.getElementById('s-infl').value / 100;
  const target   = +document.getElementById('s-target').value;
  const years    = Math.max(1, retireAt - age);
  const months   = years * 12;
  const mRate    = annReturn / 12;

  let nominalSpend = 0, fvInvested = 0, realFV = 0;
  let retireDelayMo = 0, savings = 0;
  const chartInvest = [], chartSpend = [], chartLabels = [];

  if (scenario === 'habit' || scenario === 'purchase') {
    const amount = +document.getElementById('s-amount').value;
    const freqMultiplier = +document.getElementById('i-freq').value;
    const annualAmount = amount * freqMultiplier;
    const monthlyPMT = annualAmount / 12;

    if (scenario === 'purchase') {
      // One-time purchase: treat as lump sum opportunity cost
      fvInvested = fvLump(amount, annReturn, years);
      nominalSpend = amount;
    } else {
      fvInvested = fvAnnuity(monthlyPMT, mRate, months);
      nominalSpend = monthlyPMT * months;
    }

    realFV = fvInvested / Math.pow(1 + infl, years);

    // Build chart points
    for (let y = 0; y <= years; y++) {
      chartLabels.push(age + y);
      if (scenario === 'purchase') {
        chartInvest.push(fvLump(amount, annReturn, y));
        chartSpend.push(amount);
      } else {
        chartInvest.push(fvAnnuity(monthlyPMT, mRate, y * 12));
        chartSpend.push(monthlyPMT * y * 12);
      }
    }

    // Retirement delay: how much longer do you work because this money isn't invested?
    // Without habit: invest this into your retirement pot each month
    // We compute: year-difference between reaching target with and without
    // proxy: opportunity cost as % of target
    const delayFrac = fvInvested / target;
    retireDelayMo = Math.round(delayFrac * 12 * years / years * 12);
    retireDelayMo = Math.min(retireDelayMo, years * 12);

  } else if (scenario === 'debt') {
    const balance = +document.getElementById('s-dbal').value;
    const payment = +document.getElementById('s-dpay').value;
    const apr     = +document.getElementById('s-apr').value / 100;
    const mApr    = apr / 12;

    let debt = balance, totalPaid = 0, payoffMonths = 0;
    const debtArr = [balance];
    while (debt > 0.01 && payoffMonths < months) {
      const interest = debt * mApr;
      const principal = payment - interest;
      if (principal <= 0) { payoffMonths = months; debt = debt * (1 + mApr); debtArr.push(-debt); break; }
      debt = Math.max(0, debt - principal);
      totalPaid += payment;
      payoffMonths++;
      if (payoffMonths % 12 === 0 || debt <= 0) debtArr.push(-debt);
    }
    const interestPaid = totalPaid - (balance - debt);
    nominalSpend = totalPaid;

    // After debt paid off, redirect payments to investing
    const remainingMonths = Math.max(0, months - payoffMonths);
    fvInvested = fvAnnuity(payment, mRate, remainingMonths);
    realFV = fvInvested / Math.pow(1 + infl, years);

    // Chart: show debt payoff trajectory
    let d = balance;
    for (let y = 0; y <= years; y++) {
      chartLabels.push(age + y);
      chartSpend.push(-d);
      const mInThisYear = y * 12;
      chartInvest.push(mInThisYear > payoffMonths ? fvAnnuity(payment, mRate, mInThisYear - payoffMonths) : 0);
      for (let m = 0; m < 12 && d > 0; m++) {
        const i = d * mApr;
        const p = payment - i;
        if (p > 0) d = Math.max(0, d - p);
        else d *= (1 + mApr);
      }
    }

    retireDelayMo = Math.round((fvInvested / target) * months);

  } else { // invest
    const monthly = +document.getElementById('s-contrib').value;
    const lump    = +document.getElementById('s-lump').value;

    for (let y = 0; y <= years; y++) {
      chartLabels.push(age + y);
      const portVal = fvLump(lump, annReturn, y) + fvAnnuity(monthly, mRate, y * 12);
      chartInvest.push(portVal);
      chartSpend.push(lump + monthly * y * 12); // straight line of contributions
    }

    nominalSpend = lump + monthly * months;
    fvInvested = chartInvest[chartInvest.length - 1];
    realFV = fvInvested / Math.pow(1 + infl, years);
    retireDelayMo = 0;
  }

  // DERIVED METRICS
  const lifeHours = Math.round(fvInvested / wage);
  const dailyOC = fvInvested / (years * 365);

  // Break-even: when does invested value = 2× what you spent?
  let breakEvenYear = '—';
  for (let y = 1; y <= years; y++) {
    const iv = chartInvest[y];
    const sv = chartSpend[y];
    if (iv >= sv * 2 && sv > 0) { breakEvenYear = 'Age ' + chartLabels[y]; break; }
  }

  // ── UPDATE DOM ──────────────────────────────────────────────────────
  const heroEl = document.getElementById('r-hero');
  heroEl.classList.add('updating');
  setTimeout(() => heroEl.classList.remove('updating'), 150);

  animateTo(heroEl, fmtShort(fvInvested));
  document.getElementById('r-delta').textContent =
    `↑ ${fmtFull(fvInvested)} nominal opportunity cost over ${years} years`;
  document.getElementById('r-real').textContent = fmtShort(realFV);
  document.getElementById('r-delay').textContent =
    retireDelayMo > 0 ? retireDelayMo + ' mo' : '< 1 mo';
  document.getElementById('r-hours').textContent =
    lifeHours >= 1000 ? (lifeHours / 1000).toFixed(1) + 'K hrs' : lifeHours + ' hrs';

  // stat table
  document.getElementById('r-nominal').textContent = fmtFull(nominalSpend);
  document.getElementById('r-fv').textContent = fmtFull(fvInvested);
  document.getElementById('r-real2').textContent = fmtFull(realFV);
  document.getElementById('r-delaymo').textContent =
    retireDelayMo > 0 ? retireDelayMo + ' months' : '< 1 month';
  document.getElementById('r-hoursfull').textContent = lifeHours.toLocaleString() + ' hrs';
  document.getElementById('r-daily').textContent = fmtC(dailyOC, 2) + '/day';
  document.getElementById('r-breakeven').textContent = breakEvenYear;

  // caption
  const capMap = {
    habit: `This recurring habit costs you <strong>${fmtFull(fvInvested)}</strong> in future wealth — the equivalent of <strong>${lifeHours.toLocaleString()} hours</strong> of your life at your current wage. In today's dollars, that's <strong>${fmtFull(realFV)}</strong> of real purchasing power permanently removed from your future.`,
    purchase: `This purchase's true lifetime cost isn't its price tag — it's the <strong>${fmtFull(fvInvested)}</strong> that money would have compounded into. Every dollar spent today costs you ${((fvInvested / nominalSpend)).toFixed(1)}× in future wealth.`,
    debt: `Carrying this debt destroys <strong>${fmtFull(nominalSpend)}</strong> in total payments, with years of interest before you're free. Once paid off, redirecting those payments into investments builds <strong>${fmtFull(fvInvested)}</strong>. Eliminating debt is the highest guaranteed return available.`,
    invest: `Investing consistently builds <strong>${fmtFull(fvInvested)}</strong> — a ${((fvInvested / nominalSpend)).toFixed(1)}× return on <strong>${fmtFull(nominalSpend)}</strong> contributed. In today's dollars: <strong>${fmtFull(realFV)}</strong>. Time is the variable that creates the gap.`
  };
  document.getElementById('r-behavior').innerHTML = capMap[scenario];

  // caption above chart
  const capEl = document.getElementById('r-caption');
  const verbMap = {
    habit: 'the wealth gap between spending and investing widens exponentially',
    purchase: 'even a one-time purchase compounds into significant opportunity cost',
    debt: 'debt payoff frees capital that then begins compounding',
    invest: 'consistent investing creates geometric not linear wealth growth'
  };
  capEl.textContent = `Over ${years} years, ${verbMap[scenario]}.`;

  // milestones
  const maxV = Math.max(...chartInvest.filter(isFinite), 1);
  const checkpoints = [10, 20, 30, 40].map(d => ({ label: 'Age ' + (age + d), age: age + d }))
    .filter(c => c.age <= retireAt && c.age > age);
  checkpoints.push({ label: 'Retirement', age: retireAt });

  let msHtml = '';
  checkpoints.forEach(cp => {
    const idx = chartLabels.indexOf(cp.age);
    if (idx < 0) return;
    const val = chartInvest[idx];
    const pct = Math.min(100, Math.max(0, (val / maxV) * 100));
    const col = val > 0 ? 'var(--lime)' : 'var(--red)';
    const amo = val < 0 ? '−' + fmtShort(-val) : fmtShort(val);
    msHtml += `
      <div class="milestone-row">
        <div class="milestone-age">${cp.label}</div>
        <div class="milestone-track">
          <div class="milestone-fill" style="width:${pct}%;background:${col}"></div>
        </div>
        <div class="milestone-amt" style="color:${col}">${amo}</div>
      </div>`;
  });
  document.getElementById('r-milestones').innerHTML = msHtml;

  // Draw chart
  drawChart(chartLabels, chartInvest, chartSpend);
}

// ── CANVAS CHART ──────────────────────────────────────────────────────
function drawChart(labels, invest, spend) {
  const canvas = document.getElementById('chart');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;
  const W = canvas.parentElement.offsetWidth;
  const H = 240;

  canvas.width = W * dpr;
  canvas.height = H * dpr;
  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  ctx.scale(dpr, dpr);

  const pad = { t: 16, r: 20, b: 36, l: 62 };
  const cW = W - pad.l - pad.r;
  const cH = H - pad.t - pad.b;

  // clear
  ctx.clearRect(0, 0, W, H);

  const allV = [...invest, ...spend].filter(isFinite);
  if (!allV.length) return;
  const maxV = Math.max(...allV, 0.01);
  const minV = Math.min(...allV, 0);
  const range = maxV - minV || 1;

  const sx = i => pad.l + (i / (labels.length - 1)) * cW;
  const sy = v => pad.t + cH - ((v - minV) / range) * cH;

  // Grid
  ctx.lineWidth = 0.5;
  ctx.strokeStyle = '#252538';
  ctx.font = `10px 'JetBrains Mono', monospace`;
  ctx.fillStyle = '#3a3a5c';
  ctx.textAlign = 'right';

  for (let i = 0; i <= 4; i++) {
    const v = maxV - (range / 4) * i;
    const y = sy(v);
    ctx.beginPath();
    ctx.moveTo(pad.l, y);
    ctx.lineTo(W - pad.r, y);
    ctx.stroke();
    ctx.fillStyle = '#5a5a7a';
    ctx.fillText(fmtShort(v), pad.l - 6, y + 3);
  }

  // X labels
  ctx.fillStyle = '#5a5a7a';
  ctx.textAlign = 'center';
  const step = Math.ceil(labels.length / 7);
  labels.forEach((lbl, i) => {
    if (i % step === 0 || i === labels.length - 1) {
      ctx.fillText(lbl, sx(i), H - pad.b + 16);
    }
  });

  // Helper: draw filled area + line
  function drawSeries(data, color, alpha) {
    if (data.length < 2) return;

    // Area
    const grad = ctx.createLinearGradient(0, pad.t, 0, pad.t + cH);
    grad.addColorStop(0, color.replace(')', `,${alpha})`).replace('rgb', 'rgba'));
    grad.addColorStop(1, color.replace(')', ',0)').replace('rgb', 'rgba'));

    ctx.beginPath();
    data.forEach((v, i) => {
      const x = sx(i), y = sy(v);
      i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    });
    ctx.lineTo(sx(data.length - 1), sy(Math.max(minV, 0)));
    ctx.lineTo(sx(0), sy(Math.max(minV, 0)));
    ctx.closePath();
    ctx.fillStyle = grad;
    ctx.fill();

    // Line
    ctx.beginPath();
    data.forEach((v, i) => {
      const x = sx(i), y = sy(v);
      i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    });
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.lineJoin = 'round';
    ctx.stroke();
  }

  drawSeries(spend, 'rgb(255,77,109)', 0.12);
  drawSeries(invest, 'rgb(184,255,87)', 0.14);
}

// ── FAQ TOGGLE ────────────────────────────────────────────────────────
function toggleFaq(el) {
  const icon = el.querySelector('.faq-icon');
  const answer = el.nextElementSibling;
  const isOpen = answer.classList.contains('open');

  document.querySelectorAll('.faq-a').forEach(a => a.classList.remove('open'));
  document.querySelectorAll('.faq-icon').forEach(i => { i.classList.remove('open'); i.textContent = '+'; });

  if (!isOpen) {
    answer.classList.add('open');
    icon.classList.add('open');
    icon.textContent = '+';
  }
}

// ── TOOLS MAP ─────────────────────────────────────────────────────────
const TOOLS = [
  // Cluster 1: Opportunity Cost
  { n:'01', name:'Lifetime Financial Impact Simulator', cluster:'Opportunity Cost', live: true },
  { n:'02', name:'Coffee Lifetime Cost Calculator', cluster:'Opportunity Cost', live: false },
  { n:'03', name:'Streaming Subscription True Cost', cluster:'Opportunity Cost', live: false },
  { n:'04', name:'Eating Out vs Cooking Savings', cluster:'Opportunity Cost', live: false },
  { n:'05', name:'Smoking & Vaping Financial Impact', cluster:'Opportunity Cost', live: false },
  { n:'06', name:'Gym Membership ROI Calculator', cluster:'Opportunity Cost', live: false },
  // Cluster 2: Debt True Cost
  { n:'07', name:'Credit Card True Cost Calculator', cluster:'Debt Cost', live: false },
  { n:'08', name:'Mortgage Overpayment Calculator', cluster:'Debt Cost', live: false },
  { n:'09', name:'Student Loan Impact Simulator', cluster:'Debt Cost', live: false },
  { n:'10', name:'Car Loan True Cost', cluster:'Debt Cost', live: false },
  { n:'11', name:'Buy Now Pay Later True Cost', cluster:'Debt Cost', live: false },
  { n:'12', name:'Debt Avalanche vs Snowball', cluster:'Debt Cost', live: false },
  // Cluster 3: Income & Career
  { n:'13', name:'Salary Negotiation Lifetime Value', cluster:'Income', live: false },
  { n:'14', name:'Raise Compounding Impact', cluster:'Income', live: false },
  { n:'15', name:'Freelance vs Salary Calculator', cluster:'Income', live: false },
  { n:'16', name:'Education Degree ROI', cluster:'Income', live: false },
  { n:'17', name:'True Hourly Rate After Tax', cluster:'Income', live: false },
  { n:'18', name:'Side Income Compound Effect', cluster:'Income', live: false },
  // Cluster 4: Retirement
  { n:'19', name:'FIRE Number Calculator', cluster:'Retirement', live: false },
  { n:'20', name:'Retirement Delay Calculator', cluster:'Retirement', live: false },
  { n:'21', name:'401k Contribution Impact', cluster:'Retirement', live: false },
  { n:'22', name:'Inflation vs Savings Erosion', cluster:'Retirement', live: false },
  { n:'23', name:'Sequence of Returns Risk', cluster:'Retirement', live: false },
  { n:'24', name:'How Long Will Savings Last?', cluster:'Retirement', live: false },
  // Cluster 5: Lifestyle
  { n:'25', name:'Lifestyle Inflation Calculator', cluster:'Lifestyle', live: false },
  { n:'26', name:'True Cost of a Bigger House', cluster:'Lifestyle', live: false },
  { n:'27', name:'Luxury Car Opportunity Cost', cluster:'Lifestyle', live: false },
  { n:'28', name:'Vacation True Financial Cost', cluster:'Lifestyle', live: false },
  { n:'29', name:'Private School vs State + Invest', cluster:'Lifestyle', live: false },
  { n:'30', name:'Wedding Budget Opportunity Cost', cluster:'Lifestyle', live: false },
];

function buildToolsGrid() {
  const grid = document.getElementById('tools-grid');
  const clusterColors = {
    'Opportunity Cost': 'var(--lime)',
    'Debt Cost': 'var(--red)',
    'Income': 'var(--amber)',
    'Retirement': 'var(--cyan)',
    'Lifestyle': 'var(--mist)',
  };
  grid.innerHTML = TOOLS.map(t => `
    <div class="tool-card ${t.live ? 'active-tool' : 'coming-soon'}">
      <div class="tool-num" style="color:${clusterColors[t.cluster]}">${t.n} · ${t.cluster}</div>
      <div class="tool-name" style="color:${t.live ? 'var(--text)' : 'var(--smoke)'}">${t.name}${t.live ? '' : ' <span style="font-size:9px;color:var(--dim)">— Soon</span>'}</div>
    </div>
  `).join('');
}

function scrollToTools() {
  document.getElementById('tools-map').scrollIntoView({ behavior: 'smooth' });
}

// ── INIT ALL SLIDER TRACKS ────────────────────────────────────────────
function initTracks() {
  document.querySelectorAll('input[type=range]').forEach(updateSliderTrack);
}

// ── RESIZE HANDLER ────────────────────────────────────────────────────
window.addEventListener('resize', calc);

// ── BOOT ─────────────────────────────────────────────────────────────
window.addEventListener('DOMContentLoaded', () => {
  initTracks();
  buildToolsGrid();
  calc();
});
</script>
</body>
</html>
